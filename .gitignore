from aiogram import types, Dispatcher, Bot 
import aiogram.dispatcher.filters as filters
#import asyncio
from georgiySQL import *
import sqlite3

bot = Bot(token='8501839492:AAHpYZkeQfHyKPuvxYUN3J9Dg_aZFm14FXA')
dp = Dispatcher(bot)

conn = sqlite3.connect('user_info.db')
cursor = conn.cursor()

@dp.message_handler(commands="start")
async def start(message: types.Message):
    user = message.from_user
    username_id = f"@{user.username}" if user.username else str(user.id)
    adding_id_and_username(username_id, user)
    await message.reply('cpa3y equals : w, a, s, d, олiнь, пробел')
    await message.answer('a takжe commands: /start')                        

@dp.message_handler(filters.Text(equals=['w'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('ты сделал вперед нахуй')

@dp.message_handler(filters.Text(equals=['a'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('ты сделал влево нахуй')

@dp.message_handler(filters.Text(equals=['s'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('ты сделал назад нахуй')

@dp.message_handler(filters.Text(equals=['d'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('ты сделал вправо нахуй')

@dp.message_handler(filters.Text(equals=['пробел'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('ты сделал скачок нахуй')

@dp.message_handler(filters.Text(equals=['олiнь'], ignore_case=True))
async def start(message: types.Message):
    await message.reply('твоя мать')

@dp.message_handler(commands="zegagera")
async def zegagera(message: types.Message):
        await bot.send_message(chat_id=1,text="zzz")
        print("успешно отправлено")
        
@dp.message_handler(commands="чтоянахуйделаю")
async def chat_id(message: types.Message):
    chat_id = message.chat.id
    await message.answer(f"мне это надо - {chat_id}")

@dp.message_handler()
async def echo(message: types.Message):
    await message.answer('это эхо. я не могу принять такую команду. напиши в лс @youkop3, либо задай коректную команду')

if __name__ == '__main__':
    init_db()
    from aiogram import executor
    executor.start_polling(dp, skip_updates=True)
